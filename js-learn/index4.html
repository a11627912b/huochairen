<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件</title>
</head>
<body>
    <script>
        var eventHandles = {
            addEventListener:function (key,handle) {/*key,handle是函数的两个参数*/
                if(typeof eventHandles[key] ==="undefined"){
                    eventHandles[key]=[];
                }
                eventHandles[key].push(handle);
            },
            dispatcher:function (key) {
                var l = eventHandles[key].length;
                for(var i=0; i< 1;i++) {
                    eventHandles[key][i]();
                }
            },
            default:"default"
        };
        eventHandles.title = "I'm title!";/*加入动态属性*/
        eventHandles["zh-title"]= "中文标题";
        console.log(eventHandles["zh-title"]);

        function makeWater() {
            for(var i = 0;i<100;i++){
                var temp=i+1;
                if(temp == 100){
                    eventHandles.dispatcher("water-is-boil");
                }
            }
        }
        eventHandles.addEventListener("water-is-boil",
                function(){
                    document.write("水开了！");
                });
        makeWater();


    </script>
</body>
</html>